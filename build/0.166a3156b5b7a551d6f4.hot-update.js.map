{"version":3,"file":"0.166a3156b5b7a551d6f4.hot-update.js","sources":["webpack:///src/App.js","webpack:///src/Home.js","webpack:///src/components/MonthPicker/MonthButton.js","webpack:///src/components/MonthPicker/MonthPicker.js","webpack:///src/components/MonthPicker/NavButton.js","webpack:///src/components/MonthPicker/WatchDocumentEvents.js","webpack:///src/server.js","webpack:///external \"react\""],"sourcesContent":["import React from 'react';\nimport Route from 'react-router-dom/Route';\nimport Switch from 'react-router-dom/Switch';\nimport Home from './Home';\nimport './App.css';\n\nconst App = () => (\n  <Switch>\n    <Route exact path=\"/\" component={Home} />\n  </Switch>\n);\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// src/App.js","import React, { Component } from 'react';\nimport MonthPicker from './components/MonthPicker/MonthPicker';\nimport MonthButton from './components/MonthPicker/MonthButton';\n\n\nconst Home = () => (\n  <div style={{ margin: '30px' }}>\n    <div>\n      <MonthPicker button={<MonthButton />} locale=\"en\" />\n    </div>\n  </div>\n);\n\nexport default Home;\n\n\n\n// WEBPACK FOOTER //\n// src/Home.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst MonthButton = (props) => (\n  <button onClick={props.onClick}>{props.title}</button>\n);\n\nMonthButton.propTypes = {\n  title: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nexport default MonthButton;\n\n\n\n// WEBPACK FOOTER //\n// src/components/MonthPicker/MonthButton.js","import React, { cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport MonthPickerContainer from './MonthPickerContainer';\nimport MonthPickerNav from './MonthPickerNav';\nimport MonthPickerNavItem from './MonthPickerNavItem';\nimport MonthPickerMonthItem from './MonthPickerMonthItem';\nimport MonthPickerBodyContainer from './MonthPickerBodyContainer';\nimport MonthPickerDropDown from './MonthPickerDropDown';\nimport MonthPickerDropDownContainer from './MonthPickerDropDownContainer';\nimport WatchDocumentEvents from './WatchDocumentEvents';\nimport NavButton from './NavButton';\nimport generateMonths from './utils/generate-months';\nimport generateYears from './utils/generate-years';\n\nclass MonthPicker extends React.Component {\n  constructor(props) {\n    super(props);\n    const years = generateYears();\n    const months = generateMonths(this.props.locale);\n    this.state = {\n      months,\n      years,\n      activeIndex: years.length - 1,\n      open: false,\n      selected: { month: months[0], year: years[years.length - 1] },\n    };\n  }\n\n  monthSelect = (month, year) => () => {\n    this.setState({ selected: { month, year } });\n    if (this.props.handleMonthSelect) {\n      this.prop.handleMonthSelect(month, year);\n    }\n    this.toggle();\n  };\n\n  next = () => {\n    if (this.state.activeIndex < this.state.years.length - 1) {\n      this.setState({ activeIndex: this.state.activeIndex + 1 });\n    }\n  };\n\n  prev = () => {\n    if (this.state.activeIndex >= 1) {\n      this.setState({ activeIndex: this.state.activeIndex - 1 });\n    }\n  };\n\n  toggle = () => this.setState({ open: !this.state.open });\n\n  render() {\n    return (\n      <MonthPickerDropDown>\n        {cloneElement(this.props.button, {\n          onClick: this.toggle,\n          title: `${this.state.selected.month.fullName} ${this.state.selected.year}`,\n        })}\n        {this.state.open &&\n          <MonthPickerDropDownContainer>\n            <WatchDocumentEvents onClickOutside={this.toggle} onEscapeKey={this.toggle}>\n              <MonthPickerContainer onKeyUp={this.toggle}>\n                <MonthPickerNav>\n                  <MonthPickerNavItem order={1} grow={0} onClick={this.prev} role=\"button\" button>\n                    <NavButton prev />\n                  </MonthPickerNavItem>\n                  <MonthPickerNavItem order={2} grow={3}>\n                    {this.state.years[this.state.activeIndex]}\n                  </MonthPickerNavItem>\n                  <MonthPickerNavItem order={3} grow={0} onClick={this.next} role=\"button\" button>\n                    <NavButton />\n                  </MonthPickerNavItem>\n                </MonthPickerNav>\n                <MonthPickerBodyContainer>\n                  {\n                    this.state.months.map(\n                      (month) =>\n                        <MonthPickerMonthItem\n                          key={month.number}\n                          basis=\"50px\"\n                          onClick={this.monthSelect(month, this.state.years[this.state.activeIndex])}\n                          title={month.fullName}\n                        >\n                          {month.name}\n                        </MonthPickerMonthItem>\n                    )\n                  }\n                </MonthPickerBodyContainer>\n              </MonthPickerContainer>\n            </WatchDocumentEvents>\n          </MonthPickerDropDownContainer>\n        }\n      </MonthPickerDropDown>\n    );\n  }\n}\n\nMonthPicker.propTypes = {\n  locale: PropTypes.string.isRequired,\n  handleMonthSelect: PropTypes.func,\n  button: PropTypes.node.isRequired,\n};\n\nexport default MonthPicker;\n\n\n\n// WEBPACK FOOTER //\n// src/components/MonthPicker/MonthPicker.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst NavButton = (props) => {\n  const icon = (props.prev) ? '<' : '>';\n  return (\n    <i>{icon}</i>\n  );\n};\n\nNavButton.propTypes = {\n  prev: PropTypes.bool,\n};\n\nexport default NavButton;\n\n\n\n// WEBPACK FOOTER //\n// src/components/MonthPicker/NavButton.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass WatchDocumentEvents extends React.Component {\n  componentWillMount() {\n    document.addEventListener('click', this.handleClick);\n    document.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  componentWillUnmount() {\n    // remember to remove all events to avoid memory leaks\n    document.removeEventListener('click', this.handleClick);\n    document.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  handleClick = (event) => {\n    const { container } = this;\n    const { onClickOutside } = this.props;\n\n    const { target } = event;\n    if (typeof onClickOutside !== 'function') {\n      return;\n    }\n\n    // if target is container - container was not clicked outside\n    // if container contains clicked target - click was not outside of it\n    if (target !== container && !container.contains(target)) {\n      onClickOutside(event); // clicked outside - fire callback\n    }\n  }\n\n  handleKeyUp = (event) => {\n    const { onEscapeKey } = this.props;\n    if (typeof onEscapeKey !== 'function') {\n      return;\n    }\n    if (event.keyCode === 27) {\n      onEscapeKey(event);\n    }\n  }\n\n  render() {\n    return (\n      <div ref={(el) => { this.container = el; }}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nWatchDocumentEvents.propTypes = {\n  onClickOutside: PropTypes.func,\n  onEscapeKey: PropTypes.func,\n  children: PropTypes.node,\n};\n\nexport default WatchDocumentEvents;\n\n\n\n// WEBPACK FOOTER //\n// src/components/MonthPicker/WatchDocumentEvents.js","import React from 'react';\nimport { StaticRouter } from 'react-router-dom';\nimport express from 'express';\nimport { renderToString } from 'react-dom/server';\nimport App from './App';\n\nconst assets = require(process.env.RAZZLE_ASSETS_MANIFEST);\n\nconst server = express();\nserver\n  .disable('x-powered-by')\n  .use(express.static(process.env.RAZZLE_PUBLIC_DIR))\n  .get('/*', (req, res) => {\n    const context = {};\n    const markup = renderToString(\n      <StaticRouter context={context} location={req.url}>\n        <App />\n      </StaticRouter>\n    );\n\n    if (context.url) {\n      res.redirect(context.url);\n    } else {\n      res.status(200).send(\n        `<!doctype html>\n    <html lang=\"\">\n    <head>\n        <meta httpEquiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n        <meta charSet='utf-8' />\n        <title>Welcome to Razzle</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n        ${assets.client.css\n    ? `<link rel=\"stylesheet\" href=\"${assets.client.css}\">`\n    : ''}\n        ${process.env.NODE_ENV === 'production'\n    ? `<script src=\"${assets.client.js}\" defer></script>`\n    : `<script src=\"${assets.client.js}\" defer crossorigin></script>`}\n    </head>\n    <body>\n        <div id=\"root\">${markup}</div>\n    </body>\n</html>`\n      );\n    }\n  });\n\nexport default server;\n\n\n\n// WEBPACK FOOTER //\n// src/server.js","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = react\n// module chunks = 0"],"mappings":";A;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AADA;AACA;AAKA;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AADA;AADA;AACA;AAOA;;;;;;;;;;;;;ACbA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AACA;AAGA;AACA;AACA;AAFA;AACA;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AADA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAdA;AAsBA;AACA;AACA;AACA;AACA;AA1BA;AA4BA;AACA;AACA;AACA;AACA;AAhCA;AAiCA;AAAA;AACA;AAhCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAJA;AAWA;AACA;;;AAuBA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAPA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAMA;AANA;AADA;AAHA;AAZA;AADA;AADA;AANA;AAyCA;;;;AA/EA;AACA;AAiFA;AACA;AACA;AACA;AAHA;AACA;AAKA;;;;;;;;;;;;;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AADA;AACA;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdA;AACA;AACA;AACA;;;;;;;;;;;;;;AAYA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAnCA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AA4BA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;;;;AA5CA;AACA;AA8CA;AACA;AACA;AACA;AAHA;AACA;AAKA;;;;;;;;;;;;;;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AACA;AAIA;AACA;AACA;AACA;AAoBA;AACA;AACA;AACA;;;;;;;AC9CA;;;;A","sourceRoot":""}